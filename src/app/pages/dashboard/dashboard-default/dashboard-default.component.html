<div class="row">

  <ng-container *ngIf="this.userLoggedIn?.role=='ADMIN'">

    <div class="col-md-6 col-xl-2">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-home bg-c-blue card1-icon"></i>
          <span class="text-c-blue f-w-600">Number of Stores</span>
          <h4>{{ this.adminCount?.totalMagazins || 0 }} </h4>
        </div>
      </div>
    </div>

    <!-- Card 2 - Total Earnings -->
    <div class="col-md-6 col-xl-2">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-briefcase bg-c-yellow card1-icon"></i>
          <span class="text-c-yellow f-w-600">Total Earnings</span>
          <h4>{{ this.adminCount?.totalEarningsAllMagazins || 0 }} DT</h4>
        </div>
      </div>
    </div>

    <!-- Card 3 - Admin Commission -->
    <div class="col-md-6 col-xl-2">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-pie bg-c-pink card1-icon"></i>
          <span class="text-c-pink f-w-600">Admin Commission</span>
          <h4>{{ this.adminCount?.totalAdminCommission || 0 }} DT</h4>
        </div>
      </div>
    </div>

    <!-- Card 4 - Paid to Admin -->
    <div class="col-md-6 col-xl-2">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-bank-alt bg-c-green card1-icon"></i>
          <span class="text-c-green f-w-600">Paid to Admin</span>
          <h4>{{ this.adminCount?.totalPaidToAdmin || 0 }} DT</h4>
        </div>
      </div>
    </div>

    <!-- Card 5 - Remaining Debt -->
    <div class="col-md-6 col-xl-2">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-warning-alt bg-c-blue card1-icon"></i>
          <span class="text-c-blue f-w-600">Remaining Debt</span>
          <h4>{{ this.adminCount?.totalRemainingDebt || 0 }} DT</h4>
        </div>
      </div>
    </div>

    <!-- Card 6 - Store Profit -->
    <div class="col-md-6 col-xl-2">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-chart-histogram bg-c-yellow card1-icon"></i>
          <span class="text-c-yellow f-w-600">Store Profit</span>
          <h4>{{ this.adminCount?.totalMagazinProfit || 0 }} DT</h4>
        </div>
      </div>
    </div>
    <!-- card4 end -->

    <!-- Statistics Start -->
    <div class="col-md-12 col-xl-12">
      <app-card [title]="'Statistics of Delivery by Years and/Or Status'" [classHeader]="true">
        <div style="display: flex; align-items: center; justify-content: space-between;">
          <!-- First select option aligned to the left -->
          <div style="display: flex; align-items: center; gap: 0;">
            <select class="form-select" style="width: 150px; margin-left: 5px;"
              (change)="onChangeYear($event.target.value)" [(ngModel)]="selectedYear">
              <option value="option1" disabled>Select Year</option>
              <option *ngFor="let year of years" [value]="year">{{ year }}</option>
            </select>
          </div>
          <div style="display: flex; align-items: center; gap: 0;">
            <button class="btn btn-dark btn-sm" (click)="onButtonClick()" style="width: 150px;">Validate</button>
          </div>
        </div>
        <br>
        <hr>
        <div *ngIf="!this.erour" id="line-example" class="line-example">
          <div id="statistics-chart" style="height:300px;"></div>
        </div>
      </app-card>
    </div>
  </ng-container>
  <!-- client  -->
  <ng-container *ngIf="this.userLoggedIn?.role=='CLIENT'">

    <!-- card1 start -->
    <div class="col-md-6 col-xl-3">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-fast-delivery bg-c-blue card1-icon"></i>
          <span class="text-c-blue f-w-600">Total Orders</span>
          <h4>{{ this.clientCount?.totalOrders || 0 }}</h4>
          <div>
            <span class="f-left m-t-10 text-muted"></span>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6 col-xl-3">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-clock-time bg-c-yellow card1-icon"></i>
          <span class="text-c-yebg-c-yellow f-w-600">Processing Orders</span>
          <h4>{{ this.clientCount?.processingOrders || 0 }}</h4>
          <div>
            <span class="f-left m-t-10 text-muted"></span>
          </div>
        </div>
      </div>
    </div>
    <!-- card1 end -->

    <!-- card2 start -->
    <div class="col-md-6 col-xl-3">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-inbox bg-c-green card1-icon"></i>
          <span class="text-c-green f-w-600">Completed Orders</span>
          <h4>{{ this.clientCount?.completedOrders || 0 }}</h4>
          <div>
            <span class="f-left m-t-10 text-muted"></span>
          </div>
        </div>
      </div>
    </div>
    <!-- card2 end -->

    <!-- card3 start -->
    <div class="col-md-6 col-xl-3">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-radio-active bg-c-pink card1-icon"></i>
          <span class="text-c-pinbg-c-pink f-w-600">Cancelled Orders</span>
          <h4>{{ this.clientCount?.cancelledOrders || 0 }}</h4>
          <div>
            <span class="f-left m-t-10 text-muted"></span>
          </div>
        </div>
      </div>
    </div>
    <!-- card3 end -->

    <!-- card4 start -->
    <div class="col-md-6 col-xl-3">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-education bg-c-green card1-icon"></i>
          <span class="text-c-grebg-c-green f-w-600">Orders This Month</span>
          <h4>{{ this.clientCount?.thisMonthOrders || 0 }}</h4>
          <div>
            <span class="f-left m-t-10 text-muted"></span>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6 col-xl-3">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-bank bg-c-blue card1-icon"></i>
          <span class="text-c-blbg-c-blue f-w-600">Spent This Year</span>
          <h4>{{ this.clientCount?.thisYearSpent || 0 }} DT</h4>
          <div>
            <span class="f-left m-t-10 text-muted"></span>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6 col-xl-3">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-money-bag bg-c-yellow card1-icon"></i>
          <span class="text-c-yellow f-w-600">Spent This Month</span>
          <h4>{{ this.clientCount?.thisMonthSpent || 0 }} DT</h4>
          <div>
            <span class="f-left m-t-10 text-muted"></span>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-6 col-xl-3">
      <div class="card widget-card-1">
        <div class="card-block-small">
          <i class="icofont icofont-fast-delivery bg-c-pink card1-icon"></i>
          <span class="text-c-pink f-w-600">Total Spent</span>
          <h4>{{ this.clientCount?.totalSpent || 0 }} DT</h4>
          <div>
            <span class="f-left m-t-10 text-muted"></span>
          </div>
        </div>
      </div>
    </div>

  </ng-container>

  <!-- STORE -->
<ng-container *ngIf="this.userLoggedIn?.role=='STORE'">

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-folder bg-c-yellow card1-icon"></i>
        <span class="text-c-yellow f-w-600">Total Categories</span>
        <h4>{{ this.storeCount?.totalCategories || 0 }}</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-box bg-c-blue card1-icon"></i>
        <span class="text-c-blue f-w-600">Total Products</span>
        <h4>{{ this.storeCount?.totalProducts || 0 }}</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-letterbox bg-c-green card1-icon"></i>
        <span class="text-c-green f-w-600">Total Orders</span>
        <h4>{{ this.storeCount?.totalOrders || 0 }}</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-clock-time bg-c-pink card1-icon"></i>
        <span class="text-c-pink f-w-600">Processing Orders</span>
        <h4>{{ this.storeCount?.processingOrders || 0 }}</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-stop bg-c-pink card1-icon"></i>
        <span class="text-c-pink f-w-600">Pending Orders</span>
        <h4>{{ this.storeCount?.pendingOrders || 0 }}</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-fast-delivery bg-c-green card1-icon"></i>
        <span class="text-c-green f-w-600">Completed Orders</span>
        <h4>{{ this.storeCount?.completedOrders || 0 }}</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-money-bag bg-c-yellow card1-icon"></i>
        <span class="text-c-yellow f-w-600">Total Earnings</span>
        <h4>{{ this.storeCount?.totalEarnings || 0 }} DT</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-chart-arrows-axis bg-c-blue card1-icon"></i>
        <span class="text-c-blue f-w-600">Store Profit</span>
        <h4>{{ this.storeCount?.magazinProfit || 0 }} DT</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-pie-chart bg-c-yellow card1-icon"></i>
        <span class="text-c-yellow f-w-600">Commission Rate</span>
        <h4>{{ (this.storeCount?.commissionRate * 100) || 0 }} %</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-money bg-c-blue card1-icon"></i>
        <span class="text-c-blue f-w-600">Total Debt</span>
        <h4>{{ (this.storeCount?.paidToAdmin + this.storeCount?.remainingDebt) || 0 }} DT</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-company bg-c-green card1-icon"></i>
        <!-- <span class="text-c-grebg-c-green f-w-600">Paid to Admin</span>
          -->
                <span class="text-c-green f-w-600">Paid to Admin</span>

        <h4>{{ this.storeCount?.paidToAdmin || 0 }} DT</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-6 col-xl-3">
    <div class="card widget-card-1">
      <div class="card-block-small">
        <i class="icofont icofont-bubble-down bg-c-pink card1-icon"></i>
                 <span class="text-c-pink f-w-600">Remaining Debt</span>

        <h4>{{ this.storeCount?.remainingDebt || 0 }} DT</h4>
        <div>
          <span class="f-left m-t-10 text-muted"></span>
        </div>
      </div>
    </div>
  </div>

</ng-container>


</div>